<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Introduction to events | JavaScript Tutorials | Brendan Munnelly</title>
	<meta name="description" content="Understanding JavaScript events, event listeners, event delegation, and event bubbling.">

    <meta name="author" content="Brendan Munnelly">

    <link rel="apple-touch-icon" sizes="180x180" href="../../assets/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../../assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../../assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="../../assets/img/favicon/site.webmanifest">

    <link rel="stylesheet" href="../../assets/css/dorset-js.css" />

	<style>
		pre { background-color: #282c34;}
        .table-js-methods td:nth-child(1) { min-width: 20%; }
	</style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark-reasonable.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>

	<script defer src="../../assets/js/cookie.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
	
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-RQ1JXS4GKM"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-RQ1JXS4GKM');
    </script>
    </head>

    <body id="top">

    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KGBDMFL"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <header>
			<div class="wrapper">
				<div class="sidebar">
					<div><p>&nbsp;</p>
					</div>
				</div>
		
				<div class="content">
					<h1>Introduction to events</h1>
					<h2>Understanding JavaScript events, event listeners, event bubbling, and event delegation.</h2>
				</div>
			</div></header>

		<main>

			<aside>
				<h3>JAVASCRIPT</h3>
	
				<p><i class="fas fa-home"></i> &nbsp;<a href="../index.html">Home</a></p>
	
				<h3>THIS TUTORIAL</h3>
                <p><a href="#learning-goals">Learning Goals</a></p>
                <p><a href="#event-listeners">Event listeners and callbacks</a></p>
                <p><a href="#event-object">The event object as a Data Receiver</a></p>
                <p><a href="#event-bubbling">Event bubbling and propagation</a></p>
                <p class="toc-indent"><a href="#prevent">Preventing event bubbling</a></p>
                <p><a href="#event-delegation">Event delegation</a></p>

                <p><a href="#try-it">Try it yourself</a></p>
                <p><a href="#resources">More learning resources</a></p>
                <p><a href="#ai-prompts">Sample AI prompts</a></p>
                <p><i class="fas fa-arrow-circle-up"></i> &nbsp;<a href="#top">Back to Top</a></p>
           
				<p>&nbsp;</p>
			  
			</aside>
	
	<article>
	<section id="learning-goals">
		<h2>Learning Goals</h2>
		<p>At the end of this Tutorial, you will be able to:</p>

		<ul>
            <li>Understand <span class="syn-js">.addEventListener()</span> as a higher-order function that accepts asynchronous callbacks.</li>
            <li>Work with the built-in event object and its methods.</li>
            <li>Understand event bubbling and how to control it with the <span class="syn-js">.stopPropagation()</span> method.</li>
            <li>Implement event delegation for efficient event handling.</li>
		</ul>

	</section>


<section>

 <div class="code-snippets" style="margin-bottom:32px">
            <p>For this Tutorial, in your <b>javascript/exercises</b> folder, create a new HTML file named <b>workfile-11.html</b>.</p>
   			<p>Create a new empty text file named <b>script-11.js</b> and save it in this same folder.</p>
            <p>Add a link to <b>script-11.js</b> in your <b>workfile-11.html</b> file using a <code>&lt;script&gt;</code> tag with the <code>defer</code> attribute.</p>


			<img src="assets/img/events/workfile-11.png" alt="screenshot">
		</div>
		
	</section>

    <section id="event-listeners">
        <h2>Event listeners and callbacks</h2>
        <p>JavaScript includes several built-in objects. One of these is the <span class="syn-js">event</span> object, which represents something that happens in a web browser, such as:</p>
        
        <ul>
            <li>A user clicking a button</li>
            <li>A web page finished loading</li>
            <li>A form being submitted</li>
            <li>A key being pressed on the keyboard</li>
        </ul>

        <p>In a previous <a href="interactive-dom.html" target="_blank">Interacting with the DOM</a> Tutorial, you learned how to use simple event handlers like <span class="syn-js">onclick</span>.</p>

        <p>The modern standard is to use the <span class="syn-js">.addEventListener()</span> method. This method takes two arguments:</p>
        
        <ul>
            <li>The type of event to listen for (such as <span class="syn-js">click</span>).</li>
            <li>The function to call when the event occurs.</li>
        </ul>

        <p>First, add this to the <span class="syn">&lt;body&gt;</span> of your <b>workfile-11.html</b> file.</p>

<pre><button class="copy-code" id="btn-1">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-1" class="hljs language-html">
&lt;button id="myButton" class="btn-blue"&gt;Click me&lt;/button&gt;
</code></pre>

        <p>Next, add the following JavaScript code to your <b>script-11.js</b> file.</p>
<pre><button class="copy-code" id="btn-2">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-2" class="hljs language-javascript">// Get the button element
const myButton = document.getElementById("myButton");

// Add event listener to button
myButton.addEventListener('click', () =&gt; {
    console.log("Button was clicked");
});</code></pre>

        <h3>Connecting to previous concepts</h3>
        <p>Notice the syntax here? <span class="syn-js">.addEventListener()</span> is a <em>higher-order function</em> provided by the browser. The arrow function you pass to it is an <i>asynchronous callback</i>.</p>

        <p>Just like we discussed in the previous tutorial, you are handing off this function to the browser. The browser holds onto it and only calls it ('calls it back') later, when the user actually clicks the button.</p>

    </section>

    <section id="event-object">
        <h2>The <code>event object</code> as a data receiver</h2>
        <p>When an event occurs, JavaScript automatically creates an <span class="syn-js">event</span> object containing details about what just happened (e.g., what was clicked, where the mouse pointer was, etc.).</p>

        <p>Remember the <a href="functions-callback.html#data-receivers">data receiver</a> pattern from the Callback functions tutorial? Just like <span class="syn-js">.forEach()</span> automatically passed the <i>current item</i> to your callback, <span class="syn-js">addEventListener</span> automatically passes this <span class="syn-js">event</span> object to your callback.</p>

        <p>You don't create this object; the browser creates it the moment the event happens and <em>injects</em> it into your function.</p>

        <p>To access these details, simply add a parameter (usually named <span class="syn-js">e</span> or <span class="syn-js">event</span>) to your callback function.</p>

        <p>Update your event listener code as shown below.</p>

<pre><button class="copy-code" id="btn-3">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-3" class="hljs language-javascript">// Add event listener to button
myButton.addEventListener('click', e =&gt; {
    // Access properties of the event object
    console.log(e.target.id);        // ID of clicked element
    console.log(e.target.classList); // CSS class(es) of clicked element
});</code></pre>

    <p>The <span class="syn-js">e.target</span> property is particularly usefulâ€”it refers to the specific element that triggered the event.</p>

    </section>

    <section id="event-bubbling">
        <h2>Event bubbling and propagation</h2>
        <p>When an event occurs on an element, it doesn't just affect that one element. It travels through the DOM tree in a process called <em>event propagation</em>.</p>

        <img src="assets/img/events/event-prop.png" alt="screenshot of event propagation diagram">

        <table class="table-js-methods">
        <tbody>
          <tr>
          <td><p>&nbsp;<b>Capture</b></p></td>
          <td><p>The event starts at the very top of the window and travels <i>down</i> the DOM tree, passing through every parent element until it reaches the target.</p></td>
          </tr>
          <tr>
          <td><p>&nbsp;<b>Target</b></p></td>
          <td><p>The event arrives at the button or element you actually clicked.</p></td>
          </tr>
          <tr>
          <td><p>&nbsp;<b>Bubbling</b></p></td>
          <td><p>After reaching the target, the event bubbles <i>up</i> from the target element, triggering event listeners on the parent, then the grandparent, and so on, all the way back to the root.</p></td>
          </tr>
        </tbody>
        </table>        

        <p>Note: The <span class="syn-js">.addEventListener()</span> method listens to the Bubbling phase by default. This means if you click a button inside a <span class="syn">&lt;div&gt;</span>, the click event will fire on the button first, and then "bubble up" to fire on the <span class="syn">&lt;div&gt;</span>.</p>
    
        <p>Here's an example to demonstrate event bubbling. Add these three HTML elements to <b>workfile-11.html</b>:</p>

<pre><button class="copy-code" id="btn-9">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-9" class="hljs language-html">&lt;div id="outer"&gt;
    &lt;div id="inner"&gt;
        &lt;button id="myNewButton"&gt;Click me&lt;/button&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>

        <p>Next, add this code to your <b>script-11.js</b> file.</p>
<pre><button class="copy-code" id="btn-10">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-10" class="hljs language-javascript">
document.getElementById('myNewButton').addEventListener('click', () =&gt; {
    console.log('Button clicked');
});

document.getElementById('inner').addEventListener('click', () =&gt; {
    console.log('Inner div clicked');
});

document.getElementById('outer').addEventListener('click', () =&gt; {
    console.log('Outer div clicked');
});</code></pre>

        <p>When you click the button, you'll see <i>all three messages</i> in the console because the event bubbles up through the DOM tree.</p>

        <h3 id="prevent">Preventing event bubbling</h3>

        <p>Sometimes you don't want an event to trigger listeners on parent elements. You can stop the bubbling process using the <span class="syn-js">.stopPropagation()</span> method.</p>

<pre><button class="copy-code" id="btn-12">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-12" class="hljs language-javascript">// **** STOPPING PROPAGATION ****

document.getElementById('myNewButton').addEventListener('click', e =&gt; {
    console.log('Button clicked - no parent event triggered');
    e.stopPropagation(); // Stops the event from bubbling up
});</code></pre>

    </section>

    <section id="event-delegation">
        <h2>Event delegation</h2>
        <p>Now that you understand <i>event bubbling</i>, we can use it to our advantage with a technique called <i>event delegation</i>.</p>
        
        <p>Imagine you have a list of 100 buttons. Instead of adding 100 separate event listeners (one for each button), you can add a <i>single</i> event listener to their parent container.</p>
        
        <p>Because events bubble up, any click on a button will eventually reach the container. The container can then check <i>which</i> button triggered the event using <span class="syn-js">e.target</span>.</p>

        <p>Before continuing, add a <span class="syn">&lt;style&gt;</span> tag to the <span class="syn">&lt;head&gt;</span> of your <b>workfile-11.html</b> and paste in the following CSS rules.</p>


<pre><button class="copy-code" id="btn-5">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-5" class="hljs language-css">.btn {
   font-size: 16px; margin: 5px; border-radius: 5px; padding: 10px 20px;
   cursor: pointer; border: none; color: white
}

.btn-blue { background-color: #007BFF; }
.btn-green { background-color: #28a745; }
.btn-red { background-color: #dc3545; }
.btn-purple { background-color: #6f42c1; }</code></pre>    
    
    <p>Next, add the following <span class="syn">&lt;div&gt;</span> container with a <span class="syn">&lt;h2&gt;</span> subheading and three buttons to your <b>workfile-11.html</b> file.</p>
<pre><button class="copy-code" id="btn-6">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-6" class="hljs language-html">&lt;div id="buttonContainer"&gt;
    &lt;h2&gt;Button container&lt;/h2&gt;
    &lt;button id="btn-1" class="btn btn-green"&gt;Button 1&lt;/button&gt;
    &lt;button id="btn-2" class="btn btn-red"&gt;Button 2&lt;/button&gt;
    &lt;button id="btn-3" class="btn btn-blue"&gt;Button 3&lt;/button&gt;
&lt;/div&gt;</code></pre>

       <p>Finally, add this code to your script file to implement delegation.</p>

<pre><button class="copy-code" id="btn-8">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-8" class="hljs language-javascript">// **** EVENT DELEGATION ****
const container = document.getElementById('buttonContainer');

// Add single event listener to container
container.addEventListener('click', e =&gt; {
    // Check if clicked element is a button (has CSS class of 'btn')
    if (e.target.classList.contains("btn")) {
        console.log(`You clicked button with this ID: ${e.target.id}`);
        // Add new CSS class to targetted button
        e.target.classList.add('btn-purple');
    }
});</code></pre>

        <p>Using Event Delegation has several advantages:</p>
        <ul>
            <li><b>Efficiency:</b> Reduces the number of event listeners needed in memory.</li>
            <li><b>Dynamic Elements:</b> It works even if you add <i>new</i> buttons to the container later via JavaScript. The container will simply catch their events too as they bubble up.</li>
        </ul>

    </section>

    <section class="resources-learning" id="try-it">
        <h2>Try it yourself</h2>
        <p>---</p>

        <p>Create three nested &lt;div&gt; elements with different background colours.<br>
        Add click event listeners to each div.<br>
        Experiment with event bubbling and the .stopPropagation() method.</p>

        <p>---</p>

        <p>Create a button that changes its text when clicked.<br>
        Add both a click and mouseover event listener to the same button.<br>
        The mouseover should change the button's background colour.</p>
        <p>---</p>

        <p>Create a list of items (&lt;ul&gt; with several &lt;li&gt; elements).<br>
        Use event delegation to handle clicks on any list item.<br>
        When an item is clicked, change its text color.</p>

        <p>---</p>

    </section>

 <section class="resources-learning" id="resources">
        
                      <h2>More learning resources</h2>
                  
                      <div class="flex-container">
                        <div class="text-container">
                          <h3><span><i class="fa-solid fa-circle-question"></i> Tutorial Quiz</span></h3>
                          <p><a href="https://brendan-munnelly.github.io/quiz-dorset-javascript/#/quiz-questions/17" target="_blank"><i class="fa-solid fa-circle-arrow-right"></i> &nbsp;&nbsp;Take the test</a></p>
                  
                        </div>
                    
                        <div class="audio-container">
                          <h3><span><i class="fa-solid fa-microphone"></i> Tutorial Podcast</span></h3>
                  
                          <audio controls>
                            <source src="assets/audio/events.mp3" type="audio/mp3">
                            Your browser does not support the audio element.
                          </audio>
                  
                        </div>
                      </div>
                  
                    </section>


    <section class="resources-learning" id="ai-prompts">
        <h2>Sample AI prompts</h2>
        
        <div class="gpt"><button class="copy-gpt" id="btn-13">Copy <i class="fa-regular fa-lightbulb"></i></button><code id="strCode-13">Explain the difference between event bubbling and event capturing in JavaScript.</code></div>
        
        <div class="gpt"><button class="copy-gpt" id="btn-14">Copy <i class="fa-regular fa-lightbulb"></i></button><code id="strCode-14">Compare and contrast using inline event handlers (onclick="") versus the .addEventListener() method. What are the pros and cons of each approach?</code></div>
        
        <div class="gpt"><button class="copy-gpt" id="btn-15">Copy <i class="fa-regular fa-lightbulb"></i></button><code id="strCode-15">Show me how to implement event delegation for a dynamic list that allows items to be added or removed.</code></div>
    </section>
	


</article>
</main>

<footer>


</footer>

<div id="cookie-banner">
	<p>This website uses cookies to ensure you get the best user experience. <a href="https://munnelly.com/privacy.html">Learn more</a>.</p>
	<div class="buttons">
		<button id="accept-cookies">Got it</button>
	</div>
</div>


<script>hljs.highlightAll();</script>

<script src="assets/js/utils.js"></script>


</body>
</html>