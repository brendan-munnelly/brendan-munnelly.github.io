<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Advanced forms | JavaScript Tutorials | Brendan Munnelly</title>
    <meta name="description" content="Using form text inputs and dropdown lists with 'real-time' event listeners to build dynamic, interactive web pages.">

    <meta name="author" content="Brendan Munnelly">

    <link rel="stylesheet" href="../../assets/css/dorset-js.css" />

    <style>
        pre { background-color: #282c34;}
        .table-js-arithmetic { 
			background-color: #f0f5f4 !important;
			background: linear-gradient(90deg, #f0f5f4 ,#f0f5f4 );
			border-top: solid 2px #044d6c;
		}

		.table-js-arithmetic tr,
		.table-js-arithmetic td {
			background-color: #f0f5f4 !important;
		}


		.table-js-arithmetic td p {
			font-size: calc(var(--font-size-base) * 0.85);
		}
		table.table-gray { padding: 10px 20px 10px 20px !important;}

		table.table-gray p { font-size: calc(var(--font-size-base) * 0.85) }


    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/atom-one-dark-reasonable.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
</head>

<body id="top">

    <header>
        <div class="wrapper">
            <div class="sidebar"><div><p>&nbsp;</p></div></div>
            <div class="content">
                <h1>Advanced forms</h1>
                <h2>Using form text inputs and dropdown lists with 'real-time' event listeners to build dynamic, interactive web pages.</h2>
            </div>
        </div>
    </header>

    <main>
        <aside>
            <h3>JAVASCRIPT</h3>
            <p><i class="fas fa-home"></i> &nbsp;<a href="../index.html">Home</a></p>
            <h3>THIS TUTORIAL</h3>
            <p><a href="#learning-goals">Learning Goals</a></p>
            <p><a href="#introduction">Introduction</a></p>
            <p><a href="#text-filter">Filtering with a text input</a></p>
            <p class="toc-indent"><a href="#rick-morty-api">The Rick &amp; Morty API</a></p>
            <p class="toc-indent"><a href="#filter-logic">Adding the filter logic</a></p>
            <p><a href="#dropdown-select">Dropdown lists and the <code>select</code> element</a></p>

            <p class="toc-indent"><a href="#dropdown-defaults">Dropdown lists and default values</a></p>

            <p><a href="#dropdown-api">The <code>select</code> element and the Countries API</a></p>

            <p class="toc-indent"><a href="#regions-endpoint">Using the regions endpoint and the <code>change</code> event</a></p>

                <p><a href="#try-it">Try it yourself</a></p>
                <p><a href="#ai-prompts">Sample AI prompts</a></p>
                <p><i class="fas fa-arrow-circle-up"></i> &nbsp;<a href="#top">Back to Top</a></p>
           
				<p>&nbsp;</p>


            <p>&nbsp;</p>
            <p>&nbsp;</p>
        </aside>

        <article>

            <section id="learning-goals">
                <h2>Learning Goals</h2>
                <p>At the end of this Tutorial, you will be able to:</p>
                <ul>
                    <li>Use a text input with the <span class="syn-js">input</span> event to filter live API data as the user types.</li>
                    <li>Build a <span class="syn">&lt;select&gt;</span> dropdown that triggers a Fetch API call when the user makes a selection.</li>
                </ul>
            </section>

            <section>
                <div class="code-snippets" style="margin-bottom:32px">
                    <p>For this Tutorial, in your <b>exercises</b> folder, create a new web page named <b>forms-2.html</b>.</p>
                    <p>You will also expand on the <b>list-remote.html</b> and <b>list-remote.js</b> files used in the <a href="fetch-remote.html">Accessing remote APIs Tutorial</a>.</p>
                </div>
            </section>


            <section id="introduction">
                <h2>Introduction</h2>
                <p>In the <a href="forms-intro.html" target="_blank">Introduction to forms</a> Tutorial, you worked with text, email, password, and number fields, and learned how to validate them on submission and in real time. In this tutorial, you'll explore two more interactive form elements that are fundamental to modern web applications:</p>
                <ul>
                    <li>A <b>text input</b> that filters live API results on every keystroke.</li>
                    <li>A <b>dropdown list</b> that triggers a Fetch API call when the user selects an option.</li>
                </ul>
                <p>Each of these connects a form element to a JavaScript event listener — the same fundamental pattern you have already practised.</p>
            </section>


            <!-- ============================================================ -->
            <section id="text-filter">
                <h2>Filtering with a text input</h2>
                <p>You have already used the <span class="syn-js">input</span> event to provide real-time validation feedback. This event 'fires' on every keystroke in an input field. Now, you will use this <span class="syn-js">input</span> event to fire a Fetch API request on every keystroke and display matching results dynamically.</p>

                <h3 id="rick-morty-api">The Rick &amp; Morty API</h3>
                <p>Display the <b>list-remote.html</b> file from the <a href="fetch-remote.html" target="_blank">Accessing remote APIs</a> Tutorial and click the <b>Load Rick & Morty</b> button. You should see a list of characters appear, each with their name, status, and image.</p>

                <img src="assets/img/forms/list-rm-1.png" alt="screenshot">
                <p>The endpoint used by the API is as follows:</p>

<pre><code class="hljs language-javascript">https://rickandmortyapi.com/api/character</code></pre>


                <p>The Rick &amp; Morty API supports searching by character via a <b>name</b> query string parameter. For example, the URL below returns all characters whose name contains "rick":</p>

<pre><code class="hljs language-javascript">https://rickandmortyapi.com/api/character/?name=rick</code></pre>

                <p>In the address bar of your browser, test the following two URLs to see the results:</p>
<pre><code class="hljs language-javascript">https://rickandmortyapi.com/api/character/?name=rick</code></pre>

<pre><code class="hljs language-javascript">https://rickandmortyapi.com/api/character/?name=morty</code></pre>

<p>The above URLs return matching characters. Now try the URL below:</p>

<pre><code class="hljs language-javascript">https://rickandmortyapi.com/api/character/?name=zzz</code></pre>
                
                <p>The above returns an error object because no characters match "zzz".</p>

<pre><button class="copy-code">Copy <i class="fa-regular fa-copy"></i></button><code class="hljs language-json">{"error":"There is nothing here"}</code></pre>             
                
                <p>Your code needs to check for this and handle it gracefully, rather than crashing when it tries to loop through results that don't exist.</p>

               
                <p>First, add this CSS to the <span class="syn">&lt;head&gt;</span> of your <b>list-remote.html</b> file:</p>
<pre><button class="copy-code" id="btn-1">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-1" class="hljs language-css">section#filter-rm {
    max-width: 500px;
    margin: 40px auto;
    padding: 22px 32px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 8px;
    display:none;
}

.form-group {
    display: flex;
    flex-direction: column;
    margin-bottom: 20px;
}

.form-group label {
    font-weight: bold;
    margin-bottom: 6px;
    color: #333;
}

.form-group input[type="text"] {
    padding: 10px 12px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 5px;
    outline: none;
    max-width: 320px;
    transition: border-color 0.2s ease;
}

.form-group input[type="text"]:focus {
    border-color: #007BFF;
}

.no-results {
    color: #6c757d;
    font-style: italic;
    margin-top: 12px;
}</code></pre>

        <p>This hides the Rick & Morty filter by default.</p>

        <p>Now, let's add a text input that lets the user search for any character by name.</p>


        <p>In your <b>list-remote.html</b> file, add the following HTML under the <span class="syn">&lt;h1&gt;</span> heading:</p>

<pre><button class="copy-code" id="btn-2">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-2" class="hljs language-html">&lt;section id="filter-rm"&gt;
    &lt;h2&gt;Filter Rick &amp; Morty characters&lt;/h2&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="characterSearch"&gt;Search characters:&lt;/label&gt;
        &lt;input type="text" id="characterSearch" placeholder="e.g., Rick"&gt;
    &lt;/div&gt;
&lt;/section&gt;</code></pre>

        <p>And in <b>list-remote.js</b>, update the event listener for the <b>button-container</b> to hide the search option so that it only displays when the <b>Load Rick & Morty</b> button is clicked.</p>

<pre><button class="copy-code" id="btn-3">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-3" class="hljs language-javascript">// Event listener on the parent container
document.getElementById("button-container").addEventListener("click", function(e) {
    if (e.target.id === "btn-countries") {
        document.getElementById("filter-rm").style.display = "none";
        fetchCountriesData();
    }
    else if (e.target.id === "btn-users") {
        fetchUsersData();
        document.getElementById("filter-rm").style.display = "none";

    }
    else if (e.target.id === "btn-rm") {
        // Clears the search field
         document.getElementById("characterSearch").value = "";
        // Clear any existing data and show the filter section
        document.getElementById("remote-data-container").innerHTML = "";
        // loads all characters
        fetchRMData(); 
        // Show the filter 
        document.getElementById("filter-rm").style.display = "block";
    }      
});</code></pre>

 <h3 id="filter-logic">Adding the filter logic</h3>

        <p>Your JavaScript file already has two functions to process the Rick & Morty data. </p>
        
        <ul>
            <li><b>Fetch function</b>: This is named <span class="syn-js">fetchRMData()</span> or similar.</li>
            <li><b>Display function</b>: This is named <span class="syn-js">displayRMData()</span> or similar.</li>
        </ul>
        
        <p>Paste the following into your <b>list-remote.js</b> file. Notice how the <span class="syn-js">input</span> event connects directly to the Fetch API call:</p>

<pre><button class="copy-code" id="btn-4">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-4" class="hljs language-javascript">// -------------------------------------------------------
// Filter Rick &amp; Morty characters by name
// -------------------------------------------------------

const characterSearch = document.getElementById("characterSearch");

// Fire a fetch on every keystroke
characterSearch.addEventListener("input", () =&gt; {
    const searchTerm = characterSearch.value.trim();
    // Don't fetch if the field is empty
    if (searchTerm === "") {
        const container = document.getElementById("remote-data-container");
        container.innerHTML = "";
        return;
    }
    fetchRMData(searchTerm);
});</code></pre>

<p>Replace your current fetch function with the following:</p>

<pre><button class="copy-code" id="btn-5">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-5" class="hljs language-javascript">async function fetchRMData(name = "") {
    try {
        const url = name
            // name not an empty string (user entered name in search box)
            ? `https://rickandmortyapi.com/api/character/?name=${name}`
            // name is an empty string (no name entered in search box)
            : `https://rickandmortyapi.com/api/character`;
        const response = await fetch(url);
        const data = await response.json();

        if (data.error) {
            const container = document.getElementById("remote-data-container");
            container.innerHTML = `<p class="no-results">No characters found matching "${name}".</p>`;
            return;
        }
        displayRMData(data.results);
    } catch (error) {
        const container = document.getElementById("remote-data-container");
        container.innerHTML = `<p class="no-results">⚠️ Could not load data. Please try again.</p>`;
        console.error(error);
    }
}</code></pre>

                <p>Save your files and test the search box. As you type, matching characters should appear immediately. </p>
                
                
                <p>Note the following:</p>
                <ul>
                    <li>Because you are using the <span class="syn-js">input</span> event, the Fetch API fires on every keystroke, but only if the field is not empty.</li>

                    <li>Your <span class="syn-js">fetchRMData()</span> function now includes a default <b>name</b> parameter, which will have a default value of an empty string. This means your fetch function can handle both cases: fetching all characters or fetching characters by name.</li>
                    <li>If <b>name</b> is not an empty string, the fetch request URL ends with <b>?name=...</b>. Otherwise, the fetch URL returns the default character list.</li>

                    <li>The <span class="syn-js">data.error</span> check handles the case where no characters match — without this, the code would crash trying to call <span class="syn-js">.forEach()</span> on <span class="syn-js">undefined</span>.</li>

                </ul>

                <p>Let's add one more feature that deals with situations where users enter disallowed characters in the search field. Update the ternary operator in your <span class="syn-js">fetchRMData()</span> function as follows:</p>

<pre><button class="copy-code" id="btn-5a">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-5a" class="hljs language-javascript">const url = name
// name not an empty string (user entered name in search box)
? `https://rickandmortyapi.com/api/character/?name=${encodeURIComponent(name)}`
// name is an empty string (no name entered in search box)
: `https://rickandmortyapi.com/api/character`;</code></pre>

    <p>A user typing "Rick & Morty" would break the URL if we didn't use <code>encodeURIComponent()</code>. Use this anytime you want a user input to become part of a URL.</p>
            </section>


            <!-- ============================================================ -->
            <section id="dropdown-select">
                <h2>Dropdown lists and the <code>select</code> element</h2>


                <p>A dropdown list — created with the <span class="syn">&lt;select&gt;</span> element — is ideal when you want to offer the user a fixed set of choices.</p>

                <p>Add the following HTML to your <b>forms-2.html</b> web page:</p>

<pre><button class="copy-code" id="btn-dd1">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-dd1" class="hljs language-html">&lt;h1&gt;Contact Form&lt;/h1&gt;

&lt;form id="contactForm" class="label-above"&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="fullName"&gt;Full name&lt;/label&gt;
        &lt;input type="text" id="fullName" name="fullName" placeholder="e.g. Alex Murphy" required&gt;
    &lt;/div&gt;
    
    &lt;div class="form-group"&gt;
        &lt;label for="reason"&gt;Reason for contacting&lt;/label&gt;
        &lt;select id="reason" name="reason" required&gt;
            &lt;option value=""&gt;-- Choose one --&lt;/option&gt;
            &lt;option value="support"&gt;Support&lt;/option&gt;
            &lt;option value="sales"&gt;Sales&lt;/option&gt;
            &lt;option value="feedback"&gt;Feedback&lt;/option&gt;
      &lt;/select&gt;
    &lt;/div&gt;

    &lt;button type="submit"&gt;Send&lt;/button&gt;
&lt;/form&gt;

&lt;p id="output"&gt;&lt;/p&gt;</code></pre>

            <p>Note the following points:</p>
            
            
            <ul>
                <li>The first option in the dropdown list has an empty value of <span class="syn">""</span>. This acts as a prompt, telling the user to make a choice.
                    <span class="inside-ol">&nbsp;</span>
                    If you add a <span class="syn">required</span> attribute to the <span class="syn">&lt;select&gt;</span> element, the web browser will check for this empty value and display a message if no selection is made.
                <img src="assets/img/forms/dd-1.png" alt="screenshot" style="max-width: 500px;">
                </li>
                <li>JavaScript captures the dropdown selection using the <span class="syn-js">.value</span> property, similar to how it works on an <span class="syn">&lt;input&gt;</span> element.</li>
            </ul>

            <p>Now, at the bottom of <b>forms-2.html</b>, inside a <span class="syn">&lt;script&gt;</span> tag, add the following JavaScript:</p>
<pre><button class="copy-code" id="btn-dd2">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-dd2" class="hljs language-javascript">const contactForm = document.getElementById("contactForm");
const output = document.getElementById("output");

contactForm.addEventListener("submit", e =&gt; {
// prevents the default form submission behaviour (page reload)
e.preventDefault();
    // Gets the values from the form 
    const fullName = document.getElementById("fullName").value.trim();
    const reason = document.getElementById("reason").value;
    // Unhides the output element and displays the message
    output.style.display = "block";
    output.innerText = `Thanks, ${fullName}. Your reason: ${reason}.`;
});</code></pre>


                <p>After you submit the form, the output message will be displayed below the form.</p>

                <img src="assets/img/forms/dd-2.png" alt="screenshot" style="max-width: 500px;">

                <p>To avoid the result of users pressing <b>Submit</b> multiple times with the same data, you could hide the form after submission. Add this new line at the end of the <span class="syn-js">submit</span> event listener.</p>

                <pre><code>contactForm.style.display = "none";</code></pre>

                <p>Test the form again and verify that, after submission, you see only a message.</p>

                <img src="assets/img/forms/dd-3.png" alt="screenshot" style="max-width: 500px;">

                <p>However, when you reload the page, you can see that your previous input and selection is still there. To correct this, add a new event listener for the web page <span class="syn-js">load</span> event.</p>

<pre><button class="copy-code" id="btn-dd3">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-dd3" class="hljs language-javascript">// ✅ Reset the form every time the page loads/reloads
window.addEventListener("load", () =&gt; {
    contactForm.reset();
    output.style.display = "none";
    output.innerText = "";
});</code></pre>

                <h3 id="dropdown-defaults">Dropdown lists and default values</h3>
                <p>For dropdown lists, it’s common to start with a prompt option that isn’t a real choice:</p>

<pre><button class="copy-code" id="btn-dd4">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-dd4" class="hljs language-html">&lt;option value=""&gt;-- Please select one --&lt;/option&gt;</code></pre>

                <p>Combined with <span class="syn">required</span>, the browser will block submission if they leave it on the empty option. This forces the user to actively choose.</p>

                <p>If you do want a real default (pre-selected), just make the first real option selected by default or use the <span class="syn">selected</span> attribute:</p>

<pre><button class="copy-code" id="btn-dd5">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-dd5" class="hljs language-html">&lt;option value="support" selected&gt;Support&lt;/option&gt;</code></pre>

</section>

<section id="dropdown-api">
        <h2>The <code>select</code> element and the Countries API</h2>

        <p>In this next example we will use the <span class="syn">&lt;select&gt;</span> form element along with a new 'real-time' event handler called <span class="syn-js">change</span> to fire a Fetch API call whenever a user selects from a dropdown list.</p>                

        <p>Here is a quick summary of the most common 'real-time' form events:</p>
        <table class="table-js-arithmetic">
		<tbody>
			<tr>
				<td style="min-width: 30%"><p><b>blur</b><br><i>Fires when the <br>user leaves the field.</i></p></td>
				<td style="min-width: 65%"><p>Good for 'validate on exit' checks: tidying up formatting (trim spaces), and showing error messages only after the user is done with the field.</p></td>
			</tr>
			<tr>
				<td style="min-width: 30%"><p><b>input</b><br><i>Fires when the <br>value changes as the user types/edits. </i></p></td>
				<td style="min-width: 65%"><p>Commonly used for live validation, character counts, and search-as-you-type. Doesn’t wait for the user to 'finish.'</p></td>
			</tr>
			<tr>
				<td style="min-width: 30%"><p><b>change</b><br><i>Fires differently for <br>text input and droplist list elements.</i></p></td>
				<td style="min-width: 65%"><p>For a text input, this fires when the user commits a change. For the select element, it fires when a new option is selected. Good for 'validate on change' checks.</p></td>
			</tr>
		</tbody>
	</table>


        <p>Open your <b>list-remote.html</b> web page from the <a href="fetch-remote.html">Accessing remote APIs</a> Tutorial.</p>
        <p>As a first step, add the following CSS to the <span class="syn">&lt;head&gt;</span> of <b>list-remote.html</b>:</p>

<pre><button class="copy-code" id="btn-6">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-6" class="hljs language-css">section#section-countries {
    max-width: 500px;
    margin: 40px auto;
    padding: 22px 32px;
    background-color: #f9f9f9;
    border: 1px solid #ddd;
    border-radius: 8px;
    display:none;
}

.form-group select {
    padding: 10px 12px;
    font-size: 1rem;
    border: 1px solid #ccc;
    border-radius: 5px;
    outline: none;
    max-width: 320px;
    transition: border-color 0.2s ease;
}

.form-group select:focus {
    border-color: #007BFF;
}</code></pre>


        <p>Add the following HTML to your <b>list-remote.html</b>, above the Rick & Morty search section.</p>

<pre><button class="copy-code" id="btn-7">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-7" class="hljs language-html">&lt;section id="section-countries"&gt;
    &lt;h2&gt;Countries by region&lt;/h2&gt;
    &lt;div class="form-group"&gt;
        &lt;label for="regionSelect"&gt;Select a region:&lt;/label&gt;
        &lt;select id="regionSelect"&gt;
            &lt;option value="africa"&gt;Africa&lt;/option&gt;
            &lt;option value="americas"&gt;Americas&lt;/option&gt;
            &lt;option value="asia"&gt;Asia&lt;/option&gt;
            &lt;option value="europe" selected&gt;Europe&lt;/option&gt;
            &lt;option value="oceania"&gt;Oceania&lt;/option&gt;
        &lt;/select&gt;
    &lt;/div&gt;
&lt;/section&gt;</code></pre>

                <p>Note that the <b>europe</b> option is selected by default. The Countries API demands that one <b>region</b> must be selected.</p>

                <p>In <b>list-remote.js</b>, update your event listeners as follows.</p>

                <pre><button class="copy-code" id="btn-8">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-8" class="hljs language-javascript">// Event listener on the parent container
document.getElementById("button-container").addEventListener("click", function(e) {
    if (e.target.id === "btn-countries") {
        document.getElementById("filter-rm").style.display = "none";
        document.getElementById("section-countries").style.display = "block";
        fetchCountriesData();
    }
    else if (e.target.id === "btn-users") {
        fetchUsersData();
        document.getElementById("filter-rm").style.display = "none";
        document.getElementById("section-countries").style.display = "none";
    }
    else if (e.target.id === "btn-rm") {
        // Clears the search field
         document.getElementById("characterSearch").value = "";
        // Clear any existing data and show the filter section
        document.getElementById("remote-data-container").innerHTML = "";
        // loads all characters
        fetchRMData(); 
        // Show the filter 
        document.getElementById("filter-rm").style.display = "block";
        document.getElementById("section-countries").style.display = "none";
    }   
});</code></pre>

        <p>This will hide the countries dropdown list section - except when the <b>Load countries</b> button is clicked.</p>

                <h3 id="regions-endpoint">Using the regions endpoint and the <code>change</code> event</h3>
                <p>The REST Countries API supports a <b>/region/</b> endpoint that accepts any of the five region names as a URL parameter. Here are two examples:</p>

<pre><code class="hljs language-javascript">https://restcountries.com/v3.1/region/europe
https://restcountries.com/v3.1/region/africa</code></pre>

                <p>Because the <span class="syn">&lt;option&gt;</span> values in your HTML exactly match the region names the API expects, you can build the full URL simply by appending the selected value to the base endpoint.</p>

        <p>We will use the <span class="syn-js">change</span> event because it fires immediately when a new option is selected from a <span class="syn">&lt;select&gt;</span> dropdown list.</p>

                <p>Add this new event listener to your <b>list-remote.js</b> file:</p>

<pre><button class="copy-code" id="btn-9">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-9" class="hljs language-javascript">// -------------------------------------------------------
// Countries by region dropdown
// -------------------------------------------------------

const regionSelect = document.getElementById("regionSelect");

regionSelect.addEventListener("change", () =&gt; {
    const selectedRegion = regionSelect.value;
    fetchCountriesData(selectedRegion);
});</code></pre>

<p>Replace the current fetch countries function with the updated version below:</p>
<pre><button class="copy-code" id="btn-10">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-10" class="hljs language-javascript">async function fetchCountriesData(region="europe") {
    const container = document.getElementById("remote-data-container");
    container.innerHTML = "&lt;p&gt;Loading...&lt;/p&gt;";

    try {
        const response = await fetch(`https://restcountries.com/v3.1/region/${region}`);
        if (!response.ok) {
            throw new Error(`Network error: ${response.status}`);
        }
        const data = await response.json();
        displayCountriesData(data);
    } catch (error) {
        container.innerHTML = `&lt;p class="no-results"&gt;⚠️ Could not load countries. Please try again.&lt;/p&gt;`;
        console.error(error);
    }
}</code></pre>

    <p>Note that a <i>"Loading..."</i> message is shown immediately when a <b>region</b> is selected, before the data arrives. This gives the user immediate feedback that something is happening.</p>

    <p>Make these two updates to your display countries function:</p>

    <ul>
        <li>For the Population data, update the line as shown below to make the output more readable.
<pre><code class="hljs language-javascript">  Population: ${country.population.toLocaleString()}</code></pre></li>
        <li>For the Capital city, update the line as shown below to handle cases where there is no capital. This ternary operator will handle such data issues gracefully rather than crashing the code.
<pre><code class="hljs language-javascript">  Capital: ${country.capital ? country.capital[0] : "N/A"}</code></pre></li>
    </ul>

    <p>Add this page <span class="syn-js">load</span> event to reset the dropdown list to its default selection of <b>Europe</b> when the page loads.</p>

<pre><button class="copy-code" id="btn-11">Copy <i class="fa-regular fa-copy"></i></button><code id="strCode-11" class="hljs language-javascript">// Load default region on page load
window.addEventListener("load", () =&gt; {
  // Force default selection on reload
  regionSelect.value = "europe";
});</code></pre>

        <p>Finally, add this same reset line to the relevant button <span class="syn-js">click</span> listener.</p>

    <img src="assets/img/forms/dd-4.png" alt="screenshot">


    <p>Test your dropdown list and verify it works correctly for all regions.</p>
</section>



            <!-- ============================================================ -->
            <section class="resources-learning" id="try-it">
                <h2>Try it yourself</h2>


<p><b>The Live Character Count</b><br>
Add a <code>&lt;span id="charCount"&gt;&lt;/span&gt;</code> under the Rick & Morty search box. Use the <code>input</code> input event to update this span element with the number of characters currently typed (e.g., "Characters: 5").</p>

<p><b>The Status Filter</b><br>
The Rick & Morty API also supports filtering by status: <br>https://rickandmortyapi.com/api/character/?status=alive.</p>

<p>Add a <code>&lt;select&gt;</code> dropdown next to the search box with options: All, Alive, Dead, Unknown.</p>

    <p>When the user changes the dropdown, fetch and display only characters matching that status.</p>

<p><b>The "Debounce" Feature</b><br>
Right now, if a user types "Morty" quickly, the code fires 5 separate API requests in under a second.</p>

    <p>Use a <code>setTimeout</code> to ensure the API call only fires if the user stops typing for 500ms.</p>
            </section>

       <section class="resources-learning" id="resources">

              <h2>More learning resources</h2>
          
              <div class="flex-container">
                <div class="text-container">
                  <h3><span><i class="fa-solid fa-circle-question"></i> Tutorial Quiz</span></h3>
                  <p><a href="https://brendan-munnelly.github.io/quiz-dorset-javascript/#/quiz-questions/20" target="_blank"><i class="fa-solid fa-circle-arrow-right"></i> &nbsp;&nbsp;Take the test</a></p>
          
                </div>
            
                <div class="audio-container">
                  <h3><span><i class="fa-solid fa-microphone"></i> Tutorial Podcast</span></h3>
          
                  <audio controls>
                    <source src="assets/audio/forms.mp3" type="audio/mp3">
                    Your browser does not support the audio element.
                  </audio>
          
                </div>
              </div>
          
            </section>            

            <section class="resources-learning" id="ai-prompts">
                <h2>Sample AI prompts</h2>

                <div class="gpt"><button class="copy-gpt" id="btn-20">Copy <i class="fa-regular fa-lightbulb"></i></button><code class="hljs" id="strCode-20">What is the difference between the <code>input</code>, <code>blur</code> and <code>change</code> events in JavaScript? When would I use each one?</code></div>


                <div class="gpt"><button class="copy-gpt" id="btn-21">Copy <i class="fa-regular fa-lightbulb"></i></button><code class="hljs" id="strCode-21">What does <code>encodeURIComponent()</code> do in JavaScript, and what problems can occur if I include raw user input directly in a URL?"</code></div>

                                <div class="gpt"><button class="copy-gpt" id="btn-22">Copy <i class="fa-regular fa-lightbulb"></i></button><code class="hljs" id="strCode-22">What is the CSS <code>accent-color</code> property and which form elements does it affect?</code></div>

                <div class="gpt"><button class="copy-gpt" id="btn-23">Copy <i class="fa-regular fa-lightbulb"></i></button><code class="hljs" id="strCode-23">What is debouncing in JavaScript, and how do I use <code>setTimeout</code> and <code>clearTimeout</code> to debounce an <code>input</code> event listener?</code></div>

            </section>

        </article>
    </main>

    <footer></footer>

    <script>hljs.highlightAll();</script>
    <script src="assets/js/utils.js"></script>
</body>
</html>